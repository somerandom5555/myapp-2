@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 240 5.9% 10%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 240 5.9% 10%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Mobile Responsive & Overflow Prevention */
@layer components {
  /* Prevent horizontal overflow on mobile */
  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Ensure images are responsive */
  img {
    max-width: 100%;
    height: auto;
  }

  /* Mobile-first responsive containers */
  .container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  @media (min-width: 480px) {
    .container {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  @media (min-width: 768px) {
    .container {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  /* Safe area utilities for mobile notches and nav bars */
  .pt-safe { padding-top: env(safe-area-inset-top); }
  .pb-safe { padding-bottom: max(env(safe-area-inset-bottom), 12px); }
  .safe-bottom { padding-bottom: max(env(safe-area-inset-bottom), 12px); }
  .safe-top { padding-top: env(safe-area-inset-top); }
  img { display: block; }

  /* Prevent text overflow */
  .text-ellipsis-mobile {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Responsive grid fix */
  .responsive-grid {
    display: grid;
    gap: 1rem;
    width: 100%;
  }

  @media (min-width: 768px) {
    .responsive-grid {
      gap: 1.5rem;
    }
  }
}

/* LuxAlgo-inspired gradient background */
@keyframes luxGradientFloat {
  0% { transform: translate3d(-15%, -10%, 0) scale(1); opacity: 0.8; }
  33% { transform: translate3d(10%, -15%, 0) scale(1.1); opacity: 0.9; }
  66% { transform: translate3d(-5%, 15%, 0) scale(0.95); opacity: 0.7; }
  100% { transform: translate3d(-15%, -10%, 0) scale(1); opacity: 0.8; }
}

@keyframes luxGradientPulse {
  0% { transform: translate3d(5%, 10%, 0) scale(1.2); opacity: 0.6; }
  50% { transform: translate3d(-10%, -5%, 0) scale(0.8); opacity: 0.9; }
  100% { transform: translate3d(5%, 10%, 0) scale(1.2); opacity: 0.6; }
}

@keyframes luxParticles {
  0% { transform: translateY(0px) rotate(0deg); opacity: 0.8; }
  50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
  100% { transform: translateY(0px) rotate(360deg); opacity: 0.8; }
}

@keyframes exoGridMove {
  0% { transform: perspective(800px) rotateX(60deg) rotateY(0deg) translateZ(0px); }
  100% { transform: perspective(800px) rotateX(60deg) rotateY(360deg) translateZ(0px); }
}

@keyframes exoGridPulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.7; }
}

.app-bg-motion {
  position: fixed;
  inset: 0;
  z-index: -10;
  pointer-events: none;
  background: linear-gradient(135deg, #0a0e1a 0%, #1a1b3a 25%, #2d1b69 50%, #1a1b3a 75%, #0a0e1a 100%);
}

.dark .app-bg-motion {
  background: linear-gradient(135deg, #111827 0%, #1f2937 25%, #374151 50%, #1f2937 75%, #111827 100%);
}

.app-bg-motion::before {
  content: "";
  position: absolute;
  inset: -30%;
  background: radial-gradient(50% 50% at 20% 30%, rgba(59, 130, 246, 0.4), transparent 70%),
              radial-gradient(40% 60% at 80% 20%, rgba(139, 92, 246, 0.3), transparent 70%),
              radial-gradient(60% 40% at 40% 80%, rgba(99, 102, 241, 0.25), transparent 70%),
              radial-gradient(30% 50% at 70% 60%, rgba(147, 51, 234, 0.3), transparent 70%);
  filter: blur(60px);
  animation: luxGradientFloat 25s ease-in-out infinite;
}

.app-bg-motion::after {
  content: "";
  position: absolute;
  inset: -25%;
  background: radial-gradient(60% 40% at 60% 40%, rgba(79, 70, 229, 0.2), transparent 60%),
              radial-gradient(40% 50% at 30% 70%, rgba(129, 140, 248, 0.25), transparent 65%),
              radial-gradient(50% 60% at 80% 80%, rgba(165, 84, 246, 0.2), transparent 60%);
  filter: blur(80px);
  animation: luxGradientPulse 20s ease-in-out infinite reverse;
}

.app-bg-overlay {
  position: fixed;
  inset: 0;
  z-index: -9;
  background: linear-gradient(180deg, rgba(10, 14, 26, 0.85) 0%, rgba(10, 14, 26, 0.4) 40%, rgba(10, 14, 26, 0.8) 100%);
  pointer-events: none;
}

.dark .app-bg-overlay {
  background: linear-gradient(180deg, rgba(17, 24, 39, 0.9) 0%, rgba(17, 24, 39, 0.5) 40%, rgba(17, 24, 39, 0.9) 100%);
}

.app-bg-particles {
  position: fixed;
  inset: 0;
  z-index: -8;
  pointer-events: none;
  overflow: hidden;
}

.app-bg-particles::before {
  content: "";
  position: absolute;
  width: 2px;
  height: 2px;
  background: rgba(147, 197, 253, 0.8);
  border-radius: 50%;
  box-shadow:
    20px 30px 0 rgba(147, 197, 253, 0.6),
    40px 70px 0 rgba(196, 181, 253, 0.5),
    90px 40px 0 rgba(147, 197, 253, 0.7),
    130px 80px 0 rgba(167, 139, 250, 0.4),
    160px 30px 0 rgba(147, 197, 253, 0.6),
    200px 90px 0 rgba(196, 181, 253, 0.5),
    240px 50px 0 rgba(147, 197, 253, 0.7),
    280px 120px 0 rgba(167, 139, 250, 0.4),
    320px 40px 0 rgba(147, 197, 253, 0.6),
    380px 80px 0 rgba(196, 181, 253, 0.5),
    420px 30px 0 rgba(147, 197, 253, 0.7),
    480px 100px 0 rgba(167, 139, 250, 0.4),
    520px 70px 0 rgba(147, 197, 253, 0.6),
    580px 20px 0 rgba(196, 181, 253, 0.5),
    620px 110px 0 rgba(147, 197, 253, 0.7),
    680px 60px 0 rgba(167, 139, 250, 0.4),
    720px 90px 0 rgba(147, 197, 253, 0.6),
    780px 40px 0 rgba(196, 181, 253, 0.5),
    820px 80px 0 rgba(147, 197, 253, 0.7),
    880px 30px 0 rgba(167, 139, 250, 0.4);
  animation: luxParticles 8s ease-in-out infinite;
}

.app-bg-particles::after {
  content: "";
  position: absolute;
  width: 1px;
  height: 1px;
  background: rgba(196, 181, 253, 0.9);
  border-radius: 50%;
  box-shadow:
    50px 20px 0 rgba(196, 181, 253, 0.7),
    110px 60px 0 rgba(147, 197, 253, 0.6),
    170px 100px 0 rgba(196, 181, 253, 0.8),
    230px 40px 0 rgba(167, 139, 250, 0.5),
    290px 90px 0 rgba(147, 197, 253, 0.7),
    350px 20px 0 rgba(196, 181, 253, 0.6),
    410px 130px 0 rgba(167, 139, 250, 0.8),
    470px 50px 0 rgba(147, 197, 253, 0.5),
    530px 80px 0 rgba(196, 181, 253, 0.7),
    590px 110px 0 rgba(167, 139, 250, 0.6),
    650px 30px 0 rgba(147, 197, 253, 0.8),
    710px 70px 0 rgba(196, 181, 253, 0.5),
    770px 100px 0 rgba(167, 139, 250, 0.7),
    830px 40px 0 rgba(147, 197, 253, 0.6),
    890px 90px 0 rgba(196, 181, 253, 0.8);
  animation: luxParticles 12s ease-in-out infinite reverse;
  animation-delay: -2s;
}

/* ExoCharts-inspired 3D grid background */
.exo-grid-bg {
  position: absolute;
  inset: 0;
  z-index: -7;
  pointer-events: none;
  overflow: hidden;
  perspective: 1000px;
}

.exo-grid-container {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 200%;
  height: 200%;
  transform: translate(-50%, -50%) perspective(800px) rotateX(60deg);
  animation: exoGridMove 30s linear infinite;
}

.exo-grid-lines {
  position: absolute;
  width: 100%;
  height: 100%;
  background-image:
    linear-gradient(90deg, rgba(59, 130, 246, 0.3) 1px, transparent 1px),
    linear-gradient(180deg, rgba(59, 130, 246, 0.3) 1px, transparent 1px);
  background-size: 40px 40px;
  animation: exoGridPulse 3s ease-in-out infinite;
}

.exo-grid-lines::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(90deg, rgba(147, 197, 253, 0.4) 1px, transparent 1px),
    linear-gradient(180deg, rgba(147, 197, 253, 0.4) 1px, transparent 1px);
  background-size: 80px 80px;
  animation: exoGridPulse 4s ease-in-out infinite reverse;
}

.exo-grid-lines::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(90deg, rgba(99, 102, 241, 0.2) 2px, transparent 2px),
    linear-gradient(180deg, rgba(99, 102, 241, 0.2) 2px, transparent 2px);
  background-size: 120px 120px;
  animation: exoGridPulse 5s ease-in-out infinite;
}

/* 3D chart bars effect */
.exo-chart-bars {
  position: absolute;
  bottom: 0;
  right: 20%;
  width: 60%;
  height: 60%;
  z-index: -6;
  pointer-events: none;
  transform: perspective(800px) rotateX(15deg) rotateY(-10deg);
}


/* Blog image motion animations */
@keyframes floatSlow {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-10px) rotate(2deg); }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-3deg); }
  75% { transform: rotate(3deg); }
}

@keyframes breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes slideLeftRight {
  0%, 100% { transform: translateX(0px); }
  50% { transform: translateX(5px); }
}

@keyframes rotateGlow {
  0% { transform: rotate(0deg); filter: hue-rotate(0deg); }
  100% { transform: rotate(360deg); filter: hue-rotate(360deg); }
}

.animate-float-slow {
  animation: floatSlow 4s ease-in-out infinite;
}

.animate-wiggle {
  animation: wiggle 3s ease-in-out infinite;
}

.animate-breathe {
  animation: breathe 3s ease-in-out infinite;
}

.animate-slide-lr {
  animation: slideLeftRight 2s ease-in-out infinite;
}

.animate-rotate-glow {
  animation: rotateGlow 8s linear infinite;
}

.exo-chart-bars::before {
  content: "";
  position: absolute;
  width: 4px;
  height: 60px;
  background: linear-gradient(180deg, rgba(59, 130, 246, 0.6), rgba(59, 130, 246, 0.1));
  box-shadow:
    20px 0 0 rgba(99, 102, 241, 0.5),
    40px 0 0 rgba(147, 197, 253, 0.4),
    60px 0 0 rgba(59, 130, 246, 0.6),
    80px 0 0 rgba(99, 102, 241, 0.3),
    100px 0 0 rgba(147, 197, 253, 0.5),
    120px 0 0 rgba(59, 130, 246, 0.4),
    140px 0 0 rgba(99, 102, 241, 0.6),
    160px 0 0 rgba(147, 197, 253, 0.3),
    180px 0 0 rgba(59, 130, 246, 0.5),
    200px 0 0 rgba(99, 102, 241, 0.4),
    220px 0 0 rgba(147, 197, 253, 0.6),
    240px 0 0 rgba(59, 130, 246, 0.3),
    260px 0 0 rgba(99, 102, 241, 0.5),
    280px 0 0 rgba(147, 197, 253, 0.4),
    300px 0 0 rgba(59, 130, 246, 0.6);
  animation: exoGridPulse 2s ease-in-out infinite;
}

.exo-chart-bars::after {
  content: "";
  position: absolute;
  bottom: 0;
  width: 2px;
  height: 80px;
  background: linear-gradient(180deg, rgba(147, 197, 253, 0.8), rgba(147, 197, 253, 0.1));
  box-shadow:
    15px 0 0 rgba(99, 102, 241, 0.6),
    30px 0 0 rgba(59, 130, 246, 0.4),
    45px 0 0 rgba(147, 197, 253, 0.7),
    60px 0 0 rgba(99, 102, 241, 0.3),
    75px 0 0 rgba(59, 130, 246, 0.6),
    90px 0 0 rgba(147, 197, 253, 0.4),
    105px 0 0 rgba(99, 102, 241, 0.7),
    120px 0 0 rgba(59, 130, 246, 0.3),
    135px 0 0 rgba(147, 197, 253, 0.6),
    150px 0 0 rgba(99, 102, 241, 0.4),
    165px 0 0 rgba(59, 130, 246, 0.7),
    180px 0 0 rgba(147, 197, 253, 0.3),
    195px 0 0 rgba(99, 102, 241, 0.6),
    210px 0 0 rgba(59, 130, 246, 0.4),
    225px 0 0 rgba(147, 197, 253, 0.7);
  animation: exoGridPulse 2.5s ease-in-out infinite reverse;
}
